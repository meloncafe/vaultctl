# /etc/vaultctl/env
# systemd 서비스에서 사용하는 환경변수 파일
# chmod 600 /etc/vaultctl/env

# ═══════════════════════════════════════════════════════════
# Vault 서버 설정
# ═══════════════════════════════════════════════════════════
VAULT_ADDR=https://vault.example.com
VAULTCTL_VAULT_ADDR=https://vault.example.com

# ═══════════════════════════════════════════════════════════
# 인증 설정 (아래 두 가지 중 하나 선택)
# ═══════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────
# 옵션 1: AppRole 인증 (권장)
# 토큰이 만료되면 자동으로 새 토큰 발급
# ─────────────────────────────────────────────────────────────
# VAULTCTL_APPROLE_ROLE_ID=xxxx-xxxx-xxxx-xxxx
# VAULTCTL_APPROLE_SECRET_ID=yyyy-yyyy-yyyy-yyyy
# VAULTCTL_APPROLE_MOUNT=approle

# ─────────────────────────────────────────────────────────────
# 옵션 2: 토큰 직접 입력 (비권장)
# 토큰이 만료되면 수동으로 갱신 필요
# ─────────────────────────────────────────────────────────────
# VAULT_TOKEN=hvs.xxxxxxxxxxxxx

# ═══════════════════════════════════════════════════════════
# KV 경로 설정
# ═══════════════════════════════════════════════════════════
VAULTCTL_KV_MOUNT=proxmox
VAULTCTL_KV_LXC_PATH=lxc
VAULTCTL_KV_DOCKER_PATH=docker

# ═══════════════════════════════════════════════════════════
# 토큰 갱신 설정
# ═══════════════════════════════════════════════════════════
VAULTCTL_TOKEN_RENEW_THRESHOLD=3600     # TTL이 1시간 미만이면 갱신
VAULTCTL_TOKEN_RENEW_INCREMENT=86400    # 24시간 연장

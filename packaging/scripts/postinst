#!/bin/bash
# ─────────────────────────────────────────────────────────────────────────────
# vaultctl - Post-installation script (postinst)
# vaultctl - 설치 후 스크립트 (postinst)
#
# This script runs after package files are unpacked.
# 이 스크립트는 패키지 파일이 풀린 후 실행됩니다.
#
# Arguments / 인자:
#   $1 = "configure" : Normal configuration / 일반 설정
#   $1 = "abort-upgrade" : Aborting an upgrade / 업그레이드 중단
#   $1 = "abort-remove" : Aborting removal / 제거 중단
# ─────────────────────────────────────────────────────────────────────────────

set -e

# vaultctl now uses user home directories (~/.config/vaultctl)
# System config is no longer required for basic usage
# vaultctl는 이제 사용자 홈 디렉토리를 사용합니다 (~/.config/vaultctl)
# 시스템 설정은 기본 사용에 필요하지 않습니다

# ─────────────────────────────────────────────────────────────────────────────
# Show setup instructions
# 설정 안내 메시지 출력
# ─────────────────────────────────────────────────────────────────────────────
echo ""
echo "╔═══════════════════════════════════════════════════════════════╗"
echo "║  vaultctl installed successfully!                             ║"
echo "║  vaultctl 설치가 완료되었습니다!                              ║"
echo "╠═══════════════════════════════════════════════════════════════╣"
echo "║                                                               ║"
echo "║  For administrators (one-time Vault setup):                   ║"
echo "║    vaultctl admin setup vault                                 ║"
echo "║                                                               ║"
echo "║  For each LXC container:                                      ║"
echo "║    vaultctl init                                              ║"
echo "║                                                               ║"
echo "║  Then use:                                                    ║"
echo "║    vaultctl env 100              # Generate .env              ║"
echo "║    vaultctl compose init 100     # Docker Compose setup       ║"
echo "║    vaultctl status               # Check status               ║"
echo "║                                                               ║"
echo "╚═══════════════════════════════════════════════════════════════╝"

exit 0
